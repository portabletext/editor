---
title: Behavior API
description: Reference documentation for the Behavior API.
---

Reference docs for the behavior API.

## `defineBehavior`

Options Object

- on (string): Internal editor event
- guard (function or boolean): function accepts `context` and `event`, returns boolean
- actions (array): function accepts `context` and `event`, returns array of actions

### Example

```tsx
const noLowerCaseA = defineBehavior({
  on: 'insert.text',
  guard: ({event, context}) => event.text === 'a',
  actions: [({event, context}) => [{type: 'insert.text', text: 'A'}]],
})
```

## Behavior Event types

### Native event types

- copy
- paste
- key.down
- key.up

### Synthetic event types

- annotation.add
- annotation.remove
- annotation.toggle
- blur
- decorator.add
- decorator.remove
- decorator.toggle
- delete.backward
- delete.forward
- focus
- insert.block object
- insert.inline object
- insert.break
- insert.sort break
- insert.text
- list item.toggle
- select
- style.toggle

## Behavior Actions

Actions as part of synthetic events

- annotation.add
- annotation.remove
- annotation.toggle
- blur
- decorator.add
- decorator.remove
- decorator.toggle
- delete.backward
- delete.forward
- focus
- insert.block object
- insert.inline object
- insert.break
- insert.sort break
- insert.text
- list item.toggle
- select
- style.toggle

Additional actions

- insert.span
- insert.text block
- list item.add
- list item.remove
- move.block
- move.block down
- move.block up
- noop
- delete.block
- delete.text
- effect
- raise
- select.previous block
- select.next block
- style.add
- style.remove
- text block.set
- text block.unset

## Raising Synthetic Events

Synthetic events can be raised using the `raise` action:

```tsx
const raisedUppercaseA = defineBehavior({
  on: 'insert.text',
  guard: ({event, context}) => event.text === 'a',
  actions: [
    ({event, context}) => [
      {type: 'raise', event: {type: 'insert.text', text: 'A'}},
    ],
  ],
})
```

The `raise` action also has a handy shorthand function:

```tsx
const raisedUppercaseA = defineBehavior({
  on: 'insert.text',
  guard: ({event, context}) => event.text === 'a',
  actions: [({event, context}) => [raise({type: 'insert.text', text: 'A'})]],
})
```

When raising and event rather than performing the action directly, the event is sent back into the editor, allowing other behaviors to respond:

```tsx
const unoReverseUppercaseA = defineBehavior({
  on: 'insert.text',
  guard: ({event, context}) => event.text === 'A',
  actions: [({event, context}) => [{type: 'insert.text', text: 'a'}]],
})
```

However, be careful as this can can lead to infinite loops:

```tsx
const raisedLowercaseA = defineBehavior({
  on: 'insert.text',
  guard: ({event, context}) => event.text === 'A',
  actions: [({event, context}) => [raise({type: 'insert.text', text: 'a'})]],
})
```
